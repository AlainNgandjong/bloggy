{% extends 'base.html.twig' %}

{% block title %}Home page -  {{ parent() }}{% endblock %}

{% block body %}

    <div class="main">
        <div class="example-wrapper">
            <h1>My Blog ({{ pagination.getTotalItemCount }}) Posts</h1>

            {% for post in pagination %}
                <article>
                    <h2>
                        <a href="{{ path('app_posts_show', post.pathParams()) }}">
                            {{ post.title }}
                        </a>
                    </h2>
                    <p>
                        Published <time datetime="{{ post.publishedAt|date('Y-m-d H:i') }}"> {{  post.publishedAt|date }}</time>  by {{ post.author }}
                    </p>

                    <p>{{ post.body|u.truncate(100, '...', false) }}</p>
                </article>

            {% endfor %}

            <div class="navigation">
                {{ knp_pagination_render(pagination) }}
            </div>

        </div>
    </div>

{% endblock %}
